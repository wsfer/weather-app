(()=>{"use strict";var e={192:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(81),a=n.n(r),o=n(645),i=n.n(o)()(a());i.push([e.id,'*{padding:0;margin:0;box-sizing:border-box;color:#fff;font-family:system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Open Sans","Helvetica Neue",sans-serif}main{background-size:100% 100%;background-position:center}main>.background{display:flex;flex-direction:column;align-items:center;background-color:rgba(37,37,37,.8);width:100%;height:100%}header{position:fixed;top:0;width:100%;background-color:rgba(217,217,217,.2);display:grid;grid-template-columns:repeat(3, 1fr);padding:1rem 2rem;transition:background-color .5s ease-in-out}#title-box{display:flex;align-items:center;gap:1rem}#title-box>svg{width:2.5rem}#title-box>svg>path{fill:#d9d9d9}#search-box{margin-top:1rem;grid-column:span 2;display:grid;grid-template-columns:1fr auto;align-self:center;padding-left:5rem}#search-box>.input-container{position:relative}#search-box svg{position:absolute;top:0;left:.25rem;height:100%}#search-box input{padding:.5rem 0 .5rem 3rem;color:#252525;background-color:#d9d9d9;border:none;border-radius:1rem 0 0 1rem;width:100%}#search-box input:focus{outline:none}#search-box>button{border:none;background-color:#252525;padding:0 2rem;font-weight:bold;border-radius:0 1rem 1rem 0;cursor:pointer}#error-box{grid-column:span 2;padding-left:2rem;width:100%;height:1rem;color:orange}#main-information{display:grid;grid-template-areas:"city city" "icon temp" "desc desc" "updt updt";grid-template-columns:1fr 1fr;margin-top:7rem}#main-information>*{display:flex;align-items:center;justify-content:center}#main-information>.location{grid-area:city;margin-bottom:-1rem}#main-information>.icon{grid-area:icon}#main-information>.temperature{grid-area:temp;font-size:3rem}#main-information>.description{grid-area:desc;margin-top:-1rem;font-weight:bold;margin-bottom:.2rem}#main-information>.update-time{grid-area:updt}#additional-information{background-color:rgba(217,217,217,.2);margin:3rem 1rem;padding:.5rem 1rem;display:grid;grid-template-columns:repeat(3, 1fr);gap:1rem 2rem}#additional-information>div>div{display:flex;justify-content:space-between;align-items:center}#additional-information>div>div>span:first-child{display:flex;align-items:center;margin-right:1.5rem}#additional-information svg{height:1rem;margin-right:.5rem}#additional-information path{fill:#d9d9d9}#forecast-information{width:calc(75vw + 2rem);display:flex;flex-direction:column;position:relative}#forecast-carousel{display:grid;grid-template-areas:"previous   slider   next" "    .     controls    . ";grid-template-columns:2rem calc(100% - 4rem) 2rem}#forecast-carousel>#next{grid-area:next;border-radius:0 50% 50% 0}#forecast-carousel>#previous{grid-area:previous;border-radius:50% 0 0 50%}#forecast-carousel>button{background-color:rgba(217,217,217,.6);border:none;height:calc(100% - 2rem);align-self:center;cursor:pointer}#forecast-carousel>button>svg>path{fill:rgba(37,37,37,.6)}#forecast-carousel>#forecast-slider{grid-area:slider;overflow:hidden;padding:1rem 0}#forecast-carousel>#forecast-controls{grid-area:controls;margin:1rem 0;display:flex;align-items:center;justify-content:center;gap:.5rem}#forecast-container{position:relative;display:flex;right:0;transition:right 1s ease-in-out}.forecast-content{padding:2rem 0;margin-right:2rem;flex-shrink:0;display:flex;flex-direction:column;align-items:center;background-color:rgba(217,217,217,.2);width:calc(15vw - 2rem)}#forecast-controls>button{flex-shrink:0;border:none;border-radius:1rem;width:2rem;height:1rem;background-color:rgba(217,217,217,.2);cursor:pointer}#background-legend{opacity:.5;margin:2rem 0}#loading{position:fixed;bottom:0;height:100vh;width:100vw;transition:height .5s ease-out;background-color:#d9d9d9;display:flex;align-items:center;justify-content:center;overflow:hidden}#loading p,#loading h2{color:#252525;text-align:center;font-weight:bold;padding:1rem}#loading>div{display:flex;flex-direction:column;justify-content:center;align-items:center}#loading .loader{border:16px solid #d9d9d9;border-top:16px solid #252525;border-right:16px solid #252525;border-radius:50%;width:120px;height:120px;animation:spin 2s linear infinite}@keyframes spin{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}',""]);const s=i},645:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,r,a,o){"string"==typeof e&&(e=[[null,e,void 0]]);var i={};if(r)for(var s=0;s<this.length;s++){var c=this[s][0];null!=c&&(i[c]=!0)}for(var l=0;l<e.length;l++){var d=[].concat(e[l]);r&&i[d[0]]||(void 0!==o&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=o),n&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=n):d[2]=n),a&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=a):d[4]="".concat(a)),t.push(d))}},t}},81:e=>{e.exports=function(e){return e[1]}},379:e=>{var t=[];function n(e){for(var n=-1,r=0;r<t.length;r++)if(t[r].identifier===e){n=r;break}return n}function r(e,r){for(var o={},i=[],s=0;s<e.length;s++){var c=e[s],l=r.base?c[0]+r.base:c[0],d=o[l]||0,u="".concat(l," ").concat(d);o[l]=d+1;var m=n(u),p={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==m)t[m].references++,t[m].updater(p);else{var g=a(p,r);r.byIndex=s,t.splice(s,0,{identifier:u,updater:g,references:1})}i.push(u)}return i}function a(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,a){var o=r(e=e||[],a=a||{});return function(e){e=e||[];for(var i=0;i<o.length;i++){var s=n(o[i]);t[s].references--}for(var c=r(e,a),l=0;l<o.length;l++){var d=n(o[l]);0===t[d].references&&(t[d].updater(),t.splice(d,1))}o=c}}},569:e=>{var t={};e.exports=function(e,n){var r=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},216:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},565:(e,t,n)=>{e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},795:e=>{e.exports=function(e){var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var a=void 0!==n.layer;a&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,a&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var o=n.sourceMap;o&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleTagTransform(r,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},589:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var o=t[r]={id:r,exports:{}};return e[r](o,o.exports,n),o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.nc=void 0,(()=>{var e=n(379),t=n.n(e),r=n(795),a=n.n(r),o=n(569),i=n.n(o),s=n(565),c=n.n(s),l=n(216),d=n.n(l),u=n(589),m=n.n(u),p=n(192),g={};g.styleTagTransform=m(),g.setAttributes=c(),g.insert=i().bind(null,"head"),g.domAPI=a(),g.insertStyleElement=d(),t()(p.Z,g),p.Z&&p.Z.locals&&p.Z.locals;const h=new class{#e;constructor(e){this.#e=e}async getCurrentWeather(e,t){const n=await fetch(`https://api.openweathermap.org/data/2.5/weather?lat=${e}&lon=${t}&units=metric&appid=${this.#e}`);return await n.json()}async getForecast(e,t){const n=await fetch(`https://api.openweathermap.org/data/2.5/forecast?lat=${e}&lon=${t}&units=metric&appid=${this.#e}`);return await n.json()}async getAirData(e,t){const n=await fetch(`https://api.openweathermap.org/data/2.5/air_pollution?lat=${e}&lon=${t}&appid=${this.#e}`);return await n.json()}async getCityLocation(e){const t=await fetch(`https://api.openweathermap.org/geo/1.0/direct?q=${e}&limit=5&appid=${this.#e}`);return await t.json()}}("53adf48f9adafdb91a2ae308a53f4cbd"),f=new class{#t;#n;#r;#a;#o;constructor(){this.#t=document.querySelector("#main-information"),this.#n=document.querySelector("#additional-information"),this.#r=document.querySelector("#background-legend"),this.#a=document.querySelector("#forecast-carousel"),this.#o=new class{#i;constructor(){this.#i=new Range}createMainSection(e){const t=new Date(1e3*e.dt),n=t.getHours()>=10?t.getHours():`0${t.getHours()}`,r=t.getMinutes()>=10?t.getMinutes():`0${t.getMinutes()}`,{description:a}=e.weather[0];return this.#i.createContextualFragment(`<h2 class="location">${e.name}, ${e.state||e.sys.country}</h2>\n        <img src="http://openweathermap.org/img/wn/${e.weather[0].icon}@2x.png" alt="${e.weather[0].description}" class="icon">\n        <h3 class="temperature" style="color:${this.#s(e.main.temp)}">${Math.round(e.main.temp)}ºC</h3>\n        <p class="description">${a[0].toUpperCase()+a.slice(1)}</p>\n        <p class="update-time">Updated at ${n}:${r}</p>`)}createAdditionalSection(e,t){const n=e.main.temp_max,r=e.main.temp_min,a=e.main.feels_like;let o,i;return o=e.rain?`<div>\n            <span>\n                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">\n                    <path style="path: #99b3ff" d="M9,12C9.53,12.14 9.85,12.69 9.71,13.22L8.41,18.05C8.27,18.59 7.72,18.9 7.19,18.76C6.65,18.62 6.34,18.07 6.5,17.54L7.78,12.71C7.92,12.17 8.47,11.86 9,12M13,12C13.53,12.14 13.85,12.69 13.71,13.22L11.64,20.95C11.5,21.5 10.95,21.8 10.41,21.66C9.88,21.5 9.56,20.97 9.7,20.43L11.78,12.71C11.92,12.17 12.47,11.86 13,12M17,12C17.53,12.14 17.85,12.69 17.71,13.22L16.41,18.05C16.27,18.59 15.72,18.9 15.19,18.76C14.65,18.62 14.34,18.07 14.5,17.54L15.78,12.71C15.92,12.17 16.47,11.86 17,12M17,10V9A5,5 0 0,0 12,4C9.5,4 7.45,5.82 7.06,8.19C6.73,8.07 6.37,8 6,8A3,3 0 0,0 3,11C3,12.11 3.6,13.08 4.5,13.6V13.59C5,13.87 5.14,14.5 4.87,14.96C4.59,15.43 4,15.6 3.5,15.32V15.33C2,14.47 1,12.85 1,11A5,5 0 0,1 6,6C7,3.65 9.3,2 12,2C15.43,2 18.24,4.66 18.5,8.03L19,8A4,4 0 0,1 23,12C23,13.5 22.2,14.77 21,15.46V15.46C20.5,15.73 19.91,15.57 19.63,15.09C19.36,14.61 19.5,14 20,13.72V13.73C20.6,13.39 21,12.74 21,12A2,2 0 0,0 19,10H17Z" />\n                </svg>\n                Rain:\n            </span>\n            <span class="rain">\n                ${e.rain["1h"]}mm\n            </span>\n        </div>`:"",i=e.snow?`<div>\n            <span>\n                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">\n                    <path style="path: #99b3ff" d="M20.79,13.95L18.46,14.57L16.46,13.44V10.56L18.46,9.43L20.79,10.05L21.31,8.12L19.54,7.65L20,5.88L18.07,5.36L17.45,7.69L15.45,8.82L13,7.38V5.12L14.71,3.41L13.29,2L12,3.29L10.71,2L9.29,3.41L11,5.12V7.38L8.5,8.82L6.5,7.69L5.92,5.36L4,5.88L4.47,7.65L2.7,8.12L3.22,10.05L5.55,9.43L7.55,10.56V13.45L5.55,14.58L3.22,13.96L2.7,15.89L4.47,16.36L4,18.12L5.93,18.64L6.55,16.31L8.55,15.18L11,16.62V18.88L9.29,20.59L10.71,22L12,20.71L13.29,22L14.7,20.59L13,18.88V16.62L15.5,15.17L17.5,16.3L18.12,18.63L20,18.12L19.53,16.35L21.3,15.88L20.79,13.95M9.5,10.56L12,9.11L14.5,10.56V13.44L12,14.89L9.5,13.44V10.56Z" />\n                </svg>\n                Snow:\n            </span>\n            <span>\n                ${e.snow["1h"]}mm\n            </span>\n        </div>`:"",this.#i.createContextualFragment(`<div>\n            <div>\n                <span>\n                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">\n                        <path style="fill: #ff8080"d="M15 13V5A3 3 0 0 0 9 5V13A5 5 0 1 0 15 13M12 4A1 1 0 0 1 13 5V8H11V5A1 1 0 0 1 12 4Z" />\n                    </svg>\n                    Feels like:\n                </span>\n                <span style="color: ${this.#s(a)}">\n                    ${Math.round(a)}ºC\n                </span>\n            </div>\n            <div>\n                <span>\n                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">\n                        <path d="M4,10A1,1 0 0,1 3,9A1,1 0 0,1 4,8H12A2,2 0 0,0 14,6A2,2 0 0,0 12,4C11.45,4 10.95,4.22 10.59,4.59C10.2,5 9.56,5 9.17,4.59C8.78,4.2 8.78,3.56 9.17,3.17C9.9,2.45 10.9,2 12,2A4,4 0 0,1 16,6A4,4 0 0,1 12,10H4M19,12A1,1 0 0,0 20,11A1,1 0 0,0 19,10C18.72,10 18.47,10.11 18.29,10.29C17.9,10.68 17.27,10.68 16.88,10.29C16.5,9.9 16.5,9.27 16.88,8.88C17.42,8.34 18.17,8 19,8A3,3 0 0,1 22,11A3,3 0 0,1 19,14H5A1,1 0 0,1 4,13A1,1 0 0,1 5,12H19M18,18H4A1,1 0 0,1 3,17A1,1 0 0,1 4,16H18A3,3 0 0,1 21,19A3,3 0 0,1 18,22C17.17,22 16.42,21.66 15.88,21.12C15.5,20.73 15.5,20.1 15.88,19.71C16.27,19.32 16.9,19.32 17.29,19.71C17.47,19.89 17.72,20 18,20A1,1 0 0,0 19,19A1,1 0 0,0 18,18Z" />\n                    </svg>\n                    Wind:\n                </span>\n                <span>\n                    <svg style="width: 1rem; height: 1rem; transform: rotate(${-e.wind.deg}deg); margin-right: 0" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">\n                        <path style="fill: #b3b3cc" d="M14,20H10V11L6.5,14.5L4.08,12.08L12,4.16L19.92,12.08L17.5,14.5L14,11V20Z" />\n                    </svg>\n                <span>\n                    ${e.wind.speed}mph\n                </span>\n            </div>\n            <div>\n                <span>\n                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">\n                        <path d="M6.5 20Q4.22 20 2.61 18.43 1 16.85 1 14.58 1 12.63 2.17 11.1 3.35 9.57 5.25 9.15 5.88 6.85 7.75 5.43 9.63 4 12 4 14.93 4 16.96 6.04 19 8.07 19 11 20.73 11.2 21.86 12.5 23 13.78 23 15.5 23 17.38 21.69 18.69 20.38 20 18.5 20Z" />\n                    </svg>Cloudiness:</span>\n                <span class="cloudiness">\n                    ${e.clouds.all}%\n                </span>\n            </div>\n        </div>\n        <div>\n            <div>\n                <span>\n                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">\n                        <path style="fill: #ffff4d" d="M16.5,5C18.05,5 19.5,5.47 20.69,6.28L19.53,9.17C18.73,8.44 17.67,8 16.5,8C14,8 12,10 12,12.5C12,15 14,17 16.5,17C17.53,17 18.47,16.66 19.23,16.08L20.37,18.93C19.24,19.61 17.92,20 16.5,20A7.5,7.5 0 0,1 9,12.5A7.5,7.5 0 0,1 16.5,5M6,3A3,3 0 0,1 9,6A3,3 0 0,1 6,9A3,3 0 0,1 3,6A3,3 0 0,1 6,3M6,5A1,1 0 0,0 5,6A1,1 0 0,0 6,7A1,1 0 0,0 7,6A1,1 0 0,0 6,5Z" />\n                    </svg>\n                    Max/min:\n                </span>\n                <span>\n                    <span style="color: ${this.#s(n)}">${Math.round(n)}º</span>/<span style="color: ${this.#s(r)}">${Math.round(r)}º</span>\n                </span>\n            </div>\n            <div>\n                <span>\n                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">\n                        <path style="fill: #cc80ff" d="M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M12,4A8,8 0 0,1 20,12C20,14.4 19,16.5 17.3,18C15.9,16.7 14,16 12,16C10,16 8.2,16.7 6.7,18C5,16.5 4,14.4 4,12A8,8 0 0,1 12,4M14,5.89C13.62,5.9 13.26,6.15 13.1,6.54L11.81,9.77L11.71,10C11,10.13 10.41,10.6 10.14,11.26C9.73,12.29 10.23,13.45 11.26,13.86C12.29,14.27 13.45,13.77 13.86,12.74C14.12,12.08 14,11.32 13.57,10.76L13.67,10.5L14.96,7.29L14.97,7.26C15.17,6.75 14.92,6.17 14.41,5.96C14.28,5.91 14.15,5.89 14,5.89M10,6A1,1 0 0,0 9,7A1,1 0 0,0 10,8A1,1 0 0,0 11,7A1,1 0 0,0 10,6M7,9A1,1 0 0,0 6,10A1,1 0 0,0 7,11A1,1 0 0,0 8,10A1,1 0 0,0 7,9M17,9A1,1 0 0,0 16,10A1,1 0 0,0 17,11A1,1 0 0,0 18,10A1,1 0 0,0 17,9Z" />\n                    </svg>\n                    Pressure:\n                </span> \n                <span>\n                    ${e.main.pressure}hPa\n                </span>\n            </div>\n            ${o}\n            ${i}\n        </div>\n        <div>\n            <div>\n                <span>\n                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">\n                        <path style="fill: #3366ff" d="M12,20A6,6 0 0,1 6,14C6,10 12,3.25 12,3.25C12,3.25 18,10 18,14A6,6 0 0,1 12,20Z" />\n                    </svg>\n                    Humidity:\n                </span>\n                <span>\n                    ${e.main.humidity}%\n                </span>\n            </div>\n            <div>\n                <span>\n                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">\n                        <path style="fill: #80ff80" d="M19,18.31V20A2,2 0 0,1 17,22H7A2,2 0 0,1 5,20V16.3C4.54,16.12 3.95,16 3,16A1,1 0 0,1 2,15A1,1 0 0,1 3,14C3.82,14 4.47,14.08 5,14.21V12.3C4.54,12.12 3.95,12 3,12A1,1 0 0,1 2,11A1,1 0 0,1 3,10C3.82,10 4.47,10.08 5,10.21V8.3C4.54,8.12 3.95,8 3,8A1,1 0 0,1 2,7A1,1 0 0,1 3,6C3.82,6 4.47,6.08 5,6.21V4A2,2 0 0,1 7,2H17A2,2 0 0,1 19,4V6.16C20.78,6.47 21.54,7.13 21.71,7.29C22.1,7.68 22.1,8.32 21.71,8.71C21.32,9.1 20.8,9.09 20.29,8.71V8.71C20.29,8.71 19.25,8 17,8C15.74,8 14.91,8.41 13.95,8.9C12.91,9.41 11.74,10 10,10C9.64,10 9.31,10 9,9.96V7.95C9.3,8 9.63,8 10,8C11.26,8 12.09,7.59 13.05,7.11C14.09,6.59 15.27,6 17,6V4H7V20H17V18C18.5,18 18.97,18.29 19,18.31M17,10C15.27,10 14.09,10.59 13.05,11.11C12.09,11.59 11.26,12 10,12C9.63,12 9.3,12 9,11.95V13.96C9.31,14 9.64,14 10,14C11.74,14 12.91,13.41 13.95,12.9C14.91,12.42 15.74,12 17,12C19.25,12 20.29,12.71 20.29,12.71V12.71C20.8,13.1 21.32,13.1 21.71,12.71C22.1,12.32 22.1,11.69 21.71,11.29C21.5,11.08 20.25,10 17,10M17,14C15.27,14 14.09,14.59 13.05,15.11C12.09,15.59 11.26,16 10,16C9.63,16 9.3,16 9,15.95V17.96C9.31,18 9.64,18 10,18C11.74,18 12.91,17.41 13.95,16.9C14.91,16.42 15.74,16 17,16C19.25,16 20.29,16.71 20.29,16.71V16.71C20.8,17.1 21.32,17.1 21.71,16.71C22.1,16.32 22.1,15.69 21.71,15.29C21.5,15.08 20.25,14 17,14Z" />\n                    </svg>\n                    Air Quality:\n                </span>\n                <span style="color: ${["rgb(0, 0, 255)","rgb(128, 128, 255)","rgb(255, 255, 255)","rgb(255, 255, 0)","rgb(255, 0, 0)"][t.list[0].main.aqi-1]}">\n                     ${["Good","Fair","Moderate","Poor","Very Poor"][t.list[0].main.aqi-1]}\n                </span>\n            </div>\n        </div>`)}createForecastSection(e){const t=document.createDocumentFragment();e.list.map((e=>this.#c(e))).forEach((e=>{t.appendChild(e)}));const n=this.#i.createContextualFragment(`<button id="previous">\n            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">\n                <path d="M20,10V14H11L14.5,17.5L12.08,19.92L4.16,12L12.08,4.08L14.5,6.5L11,10H20Z" />\n            </svg>\n        </button>\n        <div id="forecast-slider">\n            <div id="forecast-container"></div>\n        </div>\n        <button id="next">\n            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">\n                <path d="M4,10V14H13L9.5,17.5L11.92,19.92L19.84,12L11.92,4.08L9.5,6.5L13,10H4Z" />\n            </svg>\n        </button>\n        <div id="forecast-controls">${"<button></button>".repeat(e.list.length/5)}</div>`);return n.querySelector("#forecast-container").appendChild(t),n}createBackgroundLegend(e){return this.#i.createContextualFragment(e)}#c(e){const t=new Date(1e3*e.dt),n=t.getHours()>=10?t.getHours():`0${t.getHours()}`,r=["Sun.","Mon.","Tues.","Wed.","Thurs.","Fri.","Sat."][t.getDay()],{description:a}=e.weather[0];return this.#i.createContextualFragment(`<div class="forecast-content">\n            <h4 class="forecast-time">${r} ${t.getDate()}, ${n}:00</h4>\n            <img src="http://openweathermap.org/img/wn/${e.weather[0].icon}@2x.png" alt="${e.weather[0].description}" class="forecast-icon">\n            <p class="forecast-temperature" style="color: ${this.#s(e.main.temp)}">${Math.round(e.main.temp)}ºC</p>\n            <p class="forecast-description">${a[0].toUpperCase()+a.slice(1)}</p>\n        </div>`)}#s(e){let t;return e>50?t="rgb(255, 0, 255)":e>=35?t=`rgb(255, 0, ${Math.round(17*(e-35))})`:e>=20?t=`rgb(255, ${255-Math.round(17*(e-20))}, 0)`:e>=5?t=`rgb(${Math.round(17*(e-5))}, ${Math.round(17*(e-5))}, ${Math.round(255-17*(e-5))})`:e>=-10?t=`rgb(0, ${255-Math.round(15*-(e-5))}, 255)`:e<-10&&(t="rgb(0, 255, 255)"),t}}}updateWeatherData(e,t){const n=this.#o.createMainSection(e),r=this.#o.createAdditionalSection(e,t);this.#t.textContent="",this.#n.textContent="",this.#t.appendChild(n),this.#n.appendChild(r),this.#l(e.weather[0].main,e.main.temp)}updateForecastData(e){const t=this.#o.createForecastSection(e),n=[t.querySelector("#next"),t.querySelector("#previous"),t.querySelector("#forecast-controls"),t.querySelector("#forecast-container")];return this.#a.textContent="",this.#a.appendChild(t),n}#l(e,t){let n,r;if(t>=37)n="url(background-images/sun.jpg)",r='<p>Photo by <a href="https://unsplash.com/@nasa?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText">NASA</a> on <a href="https://unsplash.com/photos/JHyiw_dpALk?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText">Unsplash</a></p>';else if(t<=-25)n="url(background-images/iceberg.jpg)",r='<p>Image by <a href="https://pixabay.com/users/358611-358611/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=404966">358611</a> from <a href="https://pixabay.com//?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=404966">Pixabay</a></p>';else switch(e.toLowerCase()){case"thunderstorm":n="url(background-images/thunderstorm.jpg)",r='<p>Image by <a href="https://pixabay.com/users/wkidesign-1940642/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=1158027">Keli Black</a> from <a href="https://pixabay.com//?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=1158027">Pixabay</a></p>';break;case"drizzle":n="url(background-images/drizzle.jpg)",r='<p>Photo by <a href="https://unsplash.com/@alexandramirghes?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText">Alexandra Mirghe?</a> on <a href="https://unsplash.com/photos/ejG09ilWXFQ?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText">Unsplash</a></p>';break;case"rain":n="url(background-images/rain.jpg)",r='<p>Image by <a href="https://pixabay.com/users/seagullnady-6451533/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=2775032">??????? ????</a> from <a href="https://pixabay.com//?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=2775032">Pixabay</a></p>';break;case"snow":n="url(background-images/snow.jpg)",r='<p>Image by <a href="https://pixabay.com/users/maky_orel-436253/?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=6843181">Markéta (Machová) Klimeová</a> from <a href="https://pixabay.com//?utm_source=link-attribution&amp;utm_medium=referral&amp;utm_campaign=image&amp;utm_content=6843181">Pixabay</a></p>';break;case"clear":n="url(background-images/clear.jpg)",r='<p>Photo by <a href="https://unsplash.com/@catebligh?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText">Cate Bligh</a> on <a href="https://unsplash.com/photos/lX5wMeZUidA?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText">Unsplash</a></p>';break;case"clouds":n="url(background-images/clouds.jpg)",r='<p>Photo by <a href="https://unsplash.com/@billy_huy?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText">Billy Huynh</a> on <a href="https://unsplash.com/photos/v9bnfMCyKbg?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText">Unsplash</a></p>';break;default:n="url(background-images/mist.jpg)",r='<p>Photo by <a href="https://unsplash.com/@goanne?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText">Anna Goncharova</a> on <a href="https://unsplash.com/photos/E0e1NmVclRo?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText">Unsplash</a></p>'}document.querySelector("main").style.backgroundImage=n,this.#r.textContent="",this.#r.appendChild(this.#o.createBackgroundLegend(r))}},b=class{#d;#u;#m;constructor(e,t,n,r){this.#d=0,this.#u=r,this.#m=n.querySelectorAll("button"),this.#m[0].style.backgroundColor="rgba(217, 217, 217, 0.6)",e.addEventListener("click",(()=>this.#p())),t.addEventListener("click",(()=>this.#g())),this.#m.forEach(((e,t)=>{e.addEventListener("click",(e=>{this.#m[this.#h()].style.backgroundColor="rgba(217, 217, 217, 0.2)",this.#d=5*t,e.target.style.backgroundColor="rgba(217, 217, 217, 0.6)",this.#u.style.right=15*this.#d+"vw"}))}))}#h(){return Math.floor(this.#d/5)}#p(){this.#d<this.#u.childElementCount-5&&(this.#d+=1,this.#u.style.right=15*this.#d+"vw",this.#d%5==0&&(this.#m[this.#h()-1].style.backgroundColor="rgba(217, 217, 217, 0.2)",this.#m[this.#h()].style.backgroundColor="rgba(217, 217, 217, 0.6)"))}#g(){this.#d>0&&(this.#d-=1,this.#u.style.right=15*this.#d+"vw",this.#d%5==4&&(this.#m[this.#h()+1].style.backgroundColor="rgba(217, 217, 217, 0.2)",this.#m[this.#h()].style.backgroundColor="rgba(217, 217, 217, 0.6)"))}};let v;const y=document.querySelector("header"),C=document.querySelector("#loading"),w=document.querySelector(".input-container > input"),x=document.querySelector("#error-box");async function L(e){try{if(!e.length)throw new Error("You must type a city name");const t=await h.getCityLocation(e);if(!t.length)throw new Error("No city was found");return[t[0].lat,t[0].lon]}catch(e){return x.textContent=e.message,e}}async function A(e,t){try{C.style.height="100vh";const n=await h.getCurrentWeather(e,t),r=await h.getForecast(e,t),a=await h.getAirData(e,t);f.updateWeatherData(n,a);const o=f.updateForecastData(r);v=new b(...o),C.style.height="0"}catch(e){x.textContent="Failed to load data",C.style.height="0"}}w.value="",document.querySelector("#search-box > button").addEventListener("click",(()=>{L(w.value).then((e=>{A(...e)}))})),w.addEventListener("keydown",(e=>{"Enter"===e.code&&L(w.value).then((e=>{w.value="",A(...e)}))})),w.addEventListener("input",(()=>{x.textContent=""})),w.addEventListener("focus",(()=>{x.textContent=""})),window.addEventListener("scroll",(e=>{window.scrollY>0?y.style.backgroundColor="rgba(17, 17, 17, 0.6)":0===window.scrollY&&(y.style.backgroundColor="rgba(217, 217, 217, 0.2)")})),navigator.geolocation.getCurrentPosition((e=>{A(e.coords.latitude,e.coords.longitude)}),(e=>{1===e.code&&L("London").then((e=>{A(...e)}))}))})()})();